!function e(t,o,n){function i(s,u){if(!o[s]){if(!t[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=o[s]={exports:{}};t[s][0].call(c.exports,(function(e){return i(t[s][1][e]||e)}),c,c.exports,e,t,o,n)}return o[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e("@satyam-seth/otp-field");window.onload=function(){var e=new n.OTPField({namespace:"example",boxCount:6}),t=document.querySelector("section.example");e.build(t)}},{"@satyam-seth/otp-field":4}],2:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.OTPField=void 0;const n=e("../utils/regex"),i=e("../utils/types");o.OTPField=class{constructor(e){if(this.fieldValue="",e.boxCount<=0)throw new Error("Invalid config box count must be grater than zero.");this.config=e}skeleton(){const e=document.createElement("div");e.id=this.id,e.className="otp-field";for(let t=0;t<this.config.boxCount;t++)e.appendChild(this.getBoxElement(t));return e}getBoxElement(e){const t=document.createElement("input");return t.id=this.getBoxId(e),t.className="otp-box",t.type="text",t.maxLength=1,t.autocomplete="off",t.setAttribute("data-index",e.toString()),t.addEventListener("input",this.onBoxInput.bind(this)),t.addEventListener("keydown",this.onBoxKeyDown.bind(this)),t.addEventListener("focus",this.onBoxFocus.bind(this)),t.addEventListener("paste",this.onBoxPaste.bind(this)),t}get value(){return this.fieldValue}get id(){return`otp-field-${this.config.namespace}`}get element(){const e=document.getElementById(this.id);if(null===e)throw new Error(`Element with ID ${this.id} not found in the DOM.`);return e}focus(){let e=this.config.boxCount-1;for(let t=0;t<this.config.boxCount;t++)if(""===this.getBoxValue(t)){e=t;break}this.focusBox(e)}clear(){for(let e=0;e<this.config.boxCount;e++)this.setBoxValue(e,"");this.fieldValue="",this.focusBox(0)}destroy(){this.element.remove()}build(e){e.appendChild(this.skeleton())}getOtpRegex(){var e;return this.config.customRegex?this.config.customRegex:(0,n.getOTPRegexForValueType)(null!==(e=this.config.valueType)&&void 0!==e?e:i.OTPValueType.NUMERIC)}applyRegex(e){return e.replace(this.getOtpRegex(),"")}getBoxId(e){return`${this.config.namespace}-box-${e}`}getBoxAtIndex(e){const t=this.getBoxId(e),o=document.getElementById(t);if(null===o)throw new Error(`Unable to get box at index ${e}`);return o}getBoxIndex(e){const t=e.getAttribute("data-index");if(t)return parseInt(t,10);throw new Error("Unable to get `data-index` attribute for box")}updateValue(){let e="";for(let t=0;t<this.config.boxCount;t++)e+=this.getBoxValue(t);this.fieldValue=e}focusBox(e){this.getBoxAtIndex(e).focus()}focusNextBox(e){const t=this.getBoxIndex(e);t+1<this.config.boxCount&&this.focusBox(t+1)}focusPrevBox(e){const t=this.getBoxIndex(e);t-1>=0&&this.focusBox(t-1)}setBoxValue(e,t){this.getBoxAtIndex(e).value=t}getBoxValue(e){return this.getBoxAtIndex(e).value}onBoxPaste(e){e.preventDefault();const t=e.clipboardData.getData("text"),o=this.applyRegex(t),n=this.getBoxIndex(e.target),i=Math.min(this.config.boxCount-n,o.length);for(let e=0;e<i;e++)this.setBoxValue(n+e,o[e]);!0===this.config.onPasteBlur||void 0===this.config.onPasteBlur?e.target.blur():this.focusBox(n+i-1),this.updateValue()}onBoxFocus(e){1===e.target.value.length&&(e.target.selectionStart=0,e.target.selectionEnd=1)}onBoxKeyDown(e){"ArrowLeft"!==e.key&&"ArrowUp"!==e.key||(e.preventDefault(),this.focusPrevBox(e.target)),"ArrowRight"!==e.key&&"ArrowDown"!==e.key||(e.preventDefault(),this.focusNextBox(e.target)),"Backspace"!==e.key||""!==e.target.value&&0!==e.target.selectionEnd||this.focusPrevBox(e.target),"Delete"===e.key&&(""===e.target.value||0!==e.target.selectionStart&&1===e.target.selectionEnd)&&this.focusNextBox(e.target)}onBoxInput(e){const t=this.applyRegex(e.target.value);e.target.value=t,""!==e.target.value&&this.focusNextBox(e.target),this.updateValue()}}},{"../utils/regex":5,"../utils/types":6}],3:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0})},{}],4:[function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var i=Object.getOwnPropertyDescriptor(t,o);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,i)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__exportStar||function(e,t){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(t,o)||n(t,e,o)};Object.defineProperty(o,"__esModule",{value:!0}),i(e("./components/field"),o),i(e("./components/types"),o),i(e("./utils/regex"),o),i(e("./utils/types"),o)},{"./components/field":2,"./components/types":3,"./utils/regex":5,"./utils/types":6}],5:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getOTPRegexForValueType=function(e){switch(e){case n.OTPValueType.NUMERIC:return/[^0-9]/g;case n.OTPValueType.ALPHABETIC:return/[^A-Za-z]/g;case n.OTPValueType.ALPHABETIC_LOWER:return/[^a-z]/g;case n.OTPValueType.ALPHABETIC_UPPER:return/[^A-Z]/g;case n.OTPValueType.ALPHANUMERIC:return/[^A-Za-z0-9]/g;case n.OTPValueType.ALPHANUMERIC_LOWER:return/[^a-z0-9]/g;case n.OTPValueType.ALPHANUMERIC_UPPER:return/[^A-Za-z0-9]/g;default:throw new Error("Invalid OTP field value type")}};const n=e("./types")},{"./types":6}],6:[function(e,t,o){"use strict";var n;Object.defineProperty(o,"__esModule",{value:!0}),o.OTPValueType=void 0,function(e){e[e.NUMERIC=0]="NUMERIC",e[e.ALPHABETIC=1]="ALPHABETIC",e[e.ALPHABETIC_LOWER=2]="ALPHABETIC_LOWER",e[e.ALPHABETIC_UPPER=3]="ALPHABETIC_UPPER",e[e.ALPHANUMERIC=4]="ALPHANUMERIC",e[e.ALPHANUMERIC_LOWER=5]="ALPHANUMERIC_LOWER",e[e.ALPHANUMERIC_UPPER=6]="ALPHANUMERIC_UPPER"}(n||(o.OTPValueType=n={}))},{}]},{},[1]);
//# sourceMappingURL=maps/bundle.js.map
